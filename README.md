## Введение

Разработка проекта на FastAPI и React, который служит интерактивным приложением для управления своими задачами. В функциональность входит аутентификация пользователя через JWT-tokens. Авторизованные пользователи могут создавать, изменять, удалять и помечать свои выполненными некоторые задачи с простым и красивым интерфейсом. Задачи и пользователи лежат в базе данных СУБД PostgreSQL. Реализовано проксирование с использованием nginx. Проект запускается в пару кликов локально с использованием docker-compose. 

## Цель проекта

Цель проекта посмотреть на все аспекты backend-разработки на FastAPI, простейшей frontend-разработки на React и работу DevOps с оперированием взаимодействия через CI и Nginx. Себя позиционирую как backend python developer, поэтому акцент разработки сделан именно на backend, а взаимодействие с nginx и frontend имеет показательную роль, чтобы мне, как python-разработчику, понимать связи между разными микросервисами лучше.


## Этапы разработки бэкенда

1. Инициализация начальных инструментов.
- Создание каркаса проекта с выгрузкой бэкенда сразу в docker-compose (опыт показал, что так будет проще, чем в дальнейшем на готовой бизнес-логике интегрировать docker)
- Добавление тестирования (опыт показал, что мне проще инициализировать pytest на ранних этапах, чем потом добавлять тесты на сложную инфраструктуру)
- Добавление линтеров и форматеров (лучше сразу использовать pylint и black по тем же самым соображениям, чем потом исправлять проблемы)
- Введение удобной структуры через Makefile 
2. Написание микросервиса базы данных (вообще можно было бы написать и после бизнес-логики, но будто так будет проще)
- Инициализация СУБД PostgreSQL через docker-compose 
- Написание модуля для взаимодействия Alembic и SQLAlchemy
- Написание классов SQLAlchemy 
3. Написание бизнес-логики 
- Инициализация модуля авторизации и аутентификации (сначала через PyJWT токены, а далее интегрируем в конце и OAuth 2.0)
- Реализация логики эндпоинтов для CRUD задач и авторизации 
- Использование pydantic и pydantic-settings для сериализации (автоматически с FastAPI), структуры и также использование env-файла 
соответственно для хранения "секретов" (не хочу использовать через github или ansible возможность хранения "секретов" для упрощения)
4. Дополнительные модули
- Реализация эндпоинта аналитики (будет отображаться в профиле о пользователе с различными метриками) 
- Добавление логгирования 

## Технологический стэк backend 

- Python 3.12
- Docker/Docker-compose
- Alembic 
- Poetry
- Makefile
- SQLAlchemy
- PostgreSQL/asyncpg
- PyJWT
- Pytest
- Pydantic
- Pydantic-settings
- Asyncio
- Uvicorn
- logging
- Pylint
- Black
- CI


## Документация бэкенда

- backend/Readme.md - основная информация про бэкенд
- backend/tests/Readme.md - основная информация про тестирование бэкенда


## Этапы разработки фронтенда

1. Инициализация фронтенда
- Создание React-приложения через сборщик Vite
- Настройка проекта под JavaScript
- Установка зависимостей
- Создание контейнера под фронтенд и новых целей Makefile
2. Разработка структуры проекта
- Организация директорий
- Реализция страниц 
3. Интеграция с бэкендом
- Настройка API-модуля для работы с FastAPI через axious
4. UI и стили
- Использование Ant Design для компонентов
- TailwindCSS для сетки, отступов, адаптивности

## Технологический стэк frontend

- React 19
- Vite
- React Router 
- Axios
- Ant Design
- TailwindCSS
- React Hooks
- React Charts / Recharts / Ant Design Charts
- JavaScript
- Node.js
- HTML
- CSS

## Документация фронтенда

- frontend/Readme.md - основная информация про фронтенд

## Этапы разработки инфраструктуры

1. Инициализация инфраструктуры
- добавление nginx
2. Настройка nginx
- Обратный прокси для API
- Отдача статического фронтенда
3. Докеринизация инфраструктуры 
- Добавление нового контейнера под Nginx в docker-compose 

## Технологический стэк

- Nginx

## Документация инфры

- infrastructure/Readme.md

## Запуск программы 

Перед запуском необходимо установить следующие программы:
`poetry`, `python3.12`, `docker` и `docker-compose`, `node.js`, `npm`

1. Инициализация переменных окружения 

```bash
make env_file
```

2. Запуск контейнеров

```bash
make up
```

3. Установка зависимостей poetry

```bash
make poetry_install
```

4. Ревизия базы данных

```bash
make revision
```

5. Миграция базы данных

```bash
make migration
```

## Демонстрация работы проекта

0. Ждем успешного запуска контейнеров 
1. Переходим на [главную страницу](http://localhost:80)

![](/present/init.png)

2. Переход на страницу с выбором логирования или содания нового аккаунта

![](/present/auth.png)

3. Страничка с созданием нового пользователя

![](/present/register.png)

4. Страничка с аутентификацией

![](/present/login.png)

5. Домашняя страничка

![](/present/home.png)

6. Пример странички с заполненными данными

![](/present/main_full.png)

7. Страничка обо мне

![](/present/about_me.png)

8. И вторая часть 

![](/present/about_me_second.png)

9. Создание новой задачи по кнопке справа снизу

![](/present/new_task.png)

10. Корректирование задачи 

![](/present/redotask.png)

## Примечания

1. Токены искусствено живут 15 минут
2. При проверке тестирования backend необходимо отключить все контейнеры приложения 
3. Настройка env переменных берется по умолчанию через env.example при выполнении соответсвующей команды `makefile`
4. Ручки бэкенда открыты на 8000 порту через nginx